<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>4教科特訓演習</title>
<style>
  body {
    margin: 0;
    background: #111;
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    font-family: sans-serif;
  }

  #container {
    text-align: center;
  }
</style>
</head>
<body>

<div id="container">
  <input type="password" id="pw" placeholder="パスワード">
  <button onclick="check()">OK</button>
</div>

<script>
async function sha256(text) {
  const buf = new TextEncoder().encode(text);
  const hash = await crypto.subtle.digest('SHA-256', buf);
  return Array.from(new Uint8Array(hash))
    .map(b => b.toString(16).padStart(2, '0'))
    .join('');
}
const correctHash = "5a9cb6b54ea56d52a69891af8c21afb73d3841611bbabb5d7c61312d81e6e041";

async function check() {
  const input = document.getElementById("pw").value;
  const hashed = await sha256(input);

  if (hashed === correctHash) {
    launch();
  } else {
    alert("違います");
  }
}

function launch() {
  const part1 = "aHR0cHM6L";
  const part2 = "dC54eXo=";
  const part3 = "y9waXhl";
  const part4 = "bGNsaWVu";

  const url = atob(part1 + part3 + part4 + part2);

  document.body.innerHTML = "";

  const iframe = document.createElement("iframe");
  iframe.src = url;
  iframe.style.position = "fixed";
  iframe.style.inset = "0";
  iframe.style.border = "none";
  iframe.style.width = "100%";
  iframe.style.height = "100%";

  document.body.appendChild(iframe);
}　//SHA-256　base64
</script>

</body>
</html>
